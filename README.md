# LSTM Based Passive Smartphone Malware Detection 

This project was completed as part of the requirements for the course EECE571T - Advanced Machine Learning at the University of Britsh Columbia in Spring 2020. A report justifying the design choices and discussing the results can be found [here](https://drive.google.com/file/d/1oqr0b6h0R2b7M07OMH6-X0vRY0x5idA8/view?usp=sharing)

## Introduction

The main goal of this project is to be able to validate the idea of a low-resource consumptive method of malware detection. By analyzing the behavioural patterns of a smarpthone or IoT device, is it possible to determine the existence of malware. 

The project uses time sequence classification to train an LSTM model. The input data for training includes the response of various device parameters (CPU consumption, memory usage, RX/TX for mobile/WiFi, etc) and maps them to whether a malicious attack vector is acting on the device. 

Evaluating the model is done by running the test data and comparing the model generated outputs (a 1 for "yes there is malware in this timeframe" or a 0 for "no there is no malware here") against the known outputs. 

## Program Flow

![Program Flow Chart](assets/LSTMFlowChart.png)

## Model

The model used in this project was a 3-Layer LSTM, as recommended on the Keras design guide. Because we have temporal responses for multiple features, using a 3 layer LSTM would allow the model to be able to interpret more complex patterns in the data, and perform its binary classification. 

All of the data was given as a time series, so to prepare the data for the model, it was broken up into frames of N steps. The parameter N (defined in the project as "Window Size") varied from 100 timesteps to 2000 timesteps. The binary output was determined as if there was malicious actions taking place within this frame. 

## Results

More extensive analysis of the results can be found in the [report](https://drive.google.com/file/d/1oqr0b6h0R2b7M07OMH6-X0vRY0x5idA8/view?usp=sharing). 


